<div class="ticker-bar bg-yellow text-black overflow-hidden whitespace-nowrap py-2">
  <div class="ticker-content animate-ticker inline-flex">

    {% assign items = section.settings.ticker_text | split: ',' %}

    {% for loop_index in (1..4) %} 
      {% for item in items %}
        {% assign text = item | strip %}

        {% assign text = text | replace: 'BLACK FRIDAY', '<strong>BLACK FRIDAY</strong>' %}
        {% assign text = text | replace: '40%', '<strong>40%</strong>' %}

        <span class="uppercase font-heading tracking-wide mx-8">
          {{ text | strip | raw }}
        </span>

        {% unless forloop.last %}
          <span class="mx-8">+</span>
        {% endunless %}

      {% endfor %}
    {% endfor %}

  </div>
</div>

<style>
  @keyframes ticker-move {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }

  .animate-ticker {
    animation: ticker-move 18s linear infinite;
  }

  .ticker-bar strong {
    font-weight: 800;
  }
</style>

{% schema %}
{
  "name": "Ticker Bar",
  "settings": [
    {
      "type": "text",
      "id": "ticker_text",
      "label": "Ticker items (comma separated)",
      "default": "BLACK FRIDAY DEALS, 40% DISCOUNT"
    }
  ],
  "presets": [
    { "name": "Ticker Bar" }
  ]
}
{% endschema %}
