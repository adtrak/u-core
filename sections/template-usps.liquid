<div class="usps-container outer-container relative w-full mb-24 lg:mb-36">

    <div class="containercustom relative flex">
   
        <div class="usp-left fade-in-container lg:pr-16 relative left-indent py-24 lg:py-40 flex flex-wrap lg:w-7/12">

            <div class="bg-lightgrey stretch absolute top-0 right-0 h-full z-[-1]"></div>

            {% assign block_count = 0 %}
            {% for block in section.blocks %}
                {% if block.type == 'usp' %}
                    <div class="usp w-full {% unless forloop.last %}border-b-2 border-b-midgrey{% endunless %} py-10 text-grey flex flex-wrap lg:flex-nowrap {% if forloop.index > 4 %}hidden js-extra-usp{% endif %}">
                        <span class="usp-icons flex justify-center items-center w-full h-[100px] max-w-[100px] mr-4 mb-4 lg:mb-0">
                            
                            {% case block.settings.icon %}
                            {% when 'icon-shield' %}
                                {% render 'icon-shield', class: "w-12 h-12" %}
                            {% when 'icon-phone-hand' %}
                                {% render 'icon-phone-hand', class: "w-12 h-12" %}
                            {% when 'icon-size' %}
                                {% render 'icon-size', class: "w-12 h-12" %}
                            {% when 'icon-stars' %}
                                {% render 'icon-stars', class: "w-12 h-12" %}
                            {% when 'icon-lock' %}
                                {% render 'icon-lock', class: "w-12 h-12" %}
                            {% when 'icon-heart' %}
                                {% render 'icon-heart', class: "w-12 h-12" %}
                            {% else %}
                                {% render 'icon-phone-hand', class: "w-12 h-12" %}
                            {% endcase %}
                           
                        </span>
                        <span class="w-full">
                            <p class="font-heading font-big pb-2 text-grey">{{ block.settings.usp_heading }}</p>
                            <p>{{ block.settings.usp_sub_heading }}</p>
                        </span>
                    </div>
                    {% assign block_count = block_count | plus: 1 %}
                {% endif %}
            {% endfor %}

            {% if block_count > 4 %}
                <div class="w-full text-center mt-8">
                    <button class="js-see-more-btn bg-primary text-grey px-6 py-3 rounded hover:text-grey hover:underline">See More</button>
                </div>
            {% endif %}
        </div>

        <div class="usp-right relative lg:w-5/12">
            <div class="h-full absolute left-0 w-full">
                <picture>
                    <source media="(min-width:767px)" srcset="{{ section.settings.image | img_url: '1200x1800' }}">
                    <img src="{{ section.settings.image | img_url: '1200x1800' }}" class="object-cover h-full md:w-full" alt="{{ section.settings.alt }}" loading="eager" width="1000" height="1400">
                </picture> 
            </div>
        </div>

    </div>
    
</div>

{% schema %}
{
  "name": "USPs",
  "presets": [
    {
      "name": "USPs"
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "default": "Title",
      "label": "H1 Title"
    },
    {
      "type": "text",
      "id": "sub_title",
      "default": "Sub Title",
      "label": "Sub Title"
    },
    {
        "type": "image_picker",
        "id": "image",
        "label": "USP Image"
    }, 
  ],
  "blocks": [
    {
      "type": "usp",
      "name": "USP",
      "settings": [
        {
            "type": "text",
            "id": "usp_heading",
            "label": "USP Heading",
            "default": "Heading"
        },
        {
            "type": "text",
            "id": "usp_sub_heading",
            "label": "USP Sub Heading",
            "default": "Sub Heading"
        },
        {
            "type": "select",
            "id": "icon",
            "label": "Icon",
            "options": [
                {
                    "value": "icon-phone-hand",
                    "label": "Phone in hand",
                },
                {
                    "value": "icon-shield",
                    "label": "Shield",
                },
                {
                    "value": "icon-size",
                    "label": "Size Icon",
                },
                {
                    "value": "icon-stars",
                    "label": "Stars",
                },
                {
                    "value": "icon-heart",
                    "label": "Heart",
                },
                {
                    "value": "icon-lock",
                    "label": "Lock",
                }
            ]
        },
      ]
    }
  ]
}
{% endschema %}